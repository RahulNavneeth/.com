[
  {
    "type": "title",
    "raw": "The concept of getting \"vendor-locked\"!"
  },
  {
    "type": "para",
    "raw": "So... it's been like wt 3-4 months? since the last blog? lot has happened since then, but in this one, I wanted to talk about how we got vendor-locked by Azure ðŸ˜’ (How did I not see this coming? (I did, but didn't want to admit it... you know...)) Anyways..."
  },
  {
    "type": "para",
    "raw": "Yh, it all started when we wanted <a href=\"https://bitspace.org.in\">bitspace</a> to grow and improve in terms of commitment and product delivery. We needed a place to host our community tools to organize and drive the deliverables forward. By community tools, I mean OpenProject, Matrix Server, Penpot, and even a dedicated mail server (we considered GitLab too, but ultimately decided to use the already available features as they were more than enough to manage our codebases). I know what you're thinking: <i>'Why do you want to host all these when you can just use them online?'</i> - Yh, we could have, but thinking long-term, we didn't want to use premium tools like Jira or pay-to-use options when we could self-host them since we had Azure credits (â‚¹11K/Month). To put it in simple words, we did not want to spend money (foreshadowing) after what happened with FOSSHack'25. (Story... not a story - actually, venting but Iâ€™ll save it for another day.)"
  },
  {
    "type": "sub-section",
    "raw": "After one good week of setting up KQ cluster and hosting it on AKS"
  },
  {
    "type": "para",
    "raw": "Things were actually working (who knew AKS worked? At least I didn't, but it did, it worked like a charm (credit where it's due)). Everything was fine for about one week, I guess? Yh, suddenly, <i>surprise... surprise...</i> OP crashed, and so did all the other apps. Upon inspecting the AKS instance, the resources had capped out, leading to the crash, basically, insufficient RAM and storage, as the node pool was basic. I thought, 'Alright, if I restart the instance it might work' (ðŸ¤¡), but... but... but... it did work, just not the way I anticipated. See, the node pool we had was from the basic tier. When I restarted the AKS cluster, since it was on a subscription that let us spin up anything without card details, it reallocated the basic node pool to a fancier one with 32 gigs of RAM."
  },
  {
    "type": "sub-section",
    "raw": "After another perfectly decent week"
  },
  {
    "type": "para",
    "raw": "We have our internal meeting every Wednesday where we talk about the internal happenings at bitspace, basically planning things and putting them into perspective. There, Vatsav brought up the forecast for AKS, since they were his credits we were using. It was â‚¹38K...???? wt? That's like â‚¹17K over the credits. Thankfully, he had set a spending limit beforehand, and within a couple of days, we were officially vendor-locked by Azure. The AKS cluster was down, OP was down, Matrix was down, everything was down. A few days passed, and we decided to invest in a VM and host KQ cluster there on bare metal. It costed us â‚¹14K/year (there it is), which is good compared to what Azure was throwing at us."
  },
  {
    "type": "table",
    "header": ["Provider", "RAM", "vCPUs", "disk space", "price"],
    "rows": [
      ["Azure AKS (the optimal one)", "16GB", "4", "150GB", "â‚¹11K/Month"],
      ["Our Bitspace VM", "16GB", "4", "300GB", "â‚¹14K/Year (incl. tax)"]
    ],
	"tableDescription": "Comparison between AKS and a bare metal VM"
  },
  {
    "type": "para",
    "raw": "And finally, to be honest, it is exciting to not use Azure (skill issue) or any cloud provider for once and host our things on bare metal. It feels like being a real engineer, trying to solve niche problems in a painstakingly exciting way. You never know, this decision might go either way, but we took a leap of faith, faith in us, faith in our potential. Even if it goes the other way, we will find another solution because that's the whole point of all of this: to find peace among the chaos."
  },
  {
    "type": "para",
    "raw": "Have a good day, and break some prod!! I will be back explaining the architecture of KQ cluster in another blog, not here, but in the <a href=\"https://op.bitspace.org.in/projects/infrastructure/wiki/index\">bitspace/wiki</a>."
  },
  {
    "type": "reference",
    "ref": [
		{
			"term": "we",
    		"definition": "bitspace (<a href=\"https://bitspace.org.in/teams\">website</a>)"
		},
  		{
  			"term": "KQ",
  		  	"definition": "'Killer Queen' (Oh that's the name of the infra ðŸ’•)"
  		}
	]
  },
  {
    "type": "tags",
    "tags": ["cloud", "vendor-lock", "k8s", "aks", "azure", "self-host"]
  }
]
